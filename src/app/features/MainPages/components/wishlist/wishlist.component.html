@if ((items$ | async); as res) {
<section class="bg-white">
    <div class="container mx-auto px-4 py-8">
        <h1 class="text-2xl md:text-3xl font-bold text-gray-900 mb-6">Wishlist</h1>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
            @for (p of res.data; track p?._id) {
            <div class="border rounded-xl overflow-hidden">
                <a [routerLink]="['/product', p._id]"><img [src]="p.imageCover || '/images/img6.avif'" [alt]="p.title"
                        class="w-full h-40 object-cover" /></a>
                <div class="p-3">
                    <a [routerLink]="['/product', p._id]" class="text-sm font-medium text-gray-900 line-clamp-2">{{
                        p.title }}</a>
                    <div class="mt-1 flex items-center justify-between">
                        <span class="text-emerald-700 font-semibold">{{ (p.priceAfterDiscount || p.price) | currency
                            }}</span>
                        <button type="button" (click)="remove(p._id)"
                            class="text-red-600 hover:text-red-700 text-sm">Remove</button>
                    </div>
                    <button type="button" (click)="addToCart(p._id)"
                        class="w-full mt-2 inline-flex items-center justify-center gap-2 px-3 py-2 rounded-md border hover:bg-gray-50">
                        <i class="fa-solid fa-cart-plus"></i>
                        <span>Add to cart</span>
                    </button>
                </div>
            </div>
            }
        </div>
        @if (!(res.data && res.data.length)) {
        <div class="text-center text-gray-600">Your wishlist is empty.</div>
        }
    </div>
</section>
}